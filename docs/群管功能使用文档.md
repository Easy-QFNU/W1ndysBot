# 群管功能使用文档

如需开启某功能，只需要 `群主或管理员` 在群内发送相关的开关命令，即可开启该功能

该说明文档是我（开发者）凭记忆和部分代码编写的，可能会有差异，如发现某功能不可用或非预期，欢迎及时与我沟通，点击链接加我为 QQ 好友：https://qm.qq.com/q/FML7yqAROk

## 基础群管命令

- 开关命令：`gm`
- 禁言某人：`ban+空格+@用户或QQ号+空格+禁言时间(分钟)`，其中禁言时间可以省略，默认为 5 分钟
- 解禁某人：`unban+空格+@用户或QQ号`
- 踢出某人：`kick+空格+@用户或QQ号`
- 全员禁言：`banall`
- 全员解禁：`unbanall`
- 撤回消息：引用需要撤回的消息并发送 `recall`
- 封禁自己：`banme`
- 禁言排行榜：`banrank`
- 设置宵禁：`设置宵禁 开始时间 结束时间（24小时制）`
- 取消宵禁：`取消宵禁`
- 切换宵禁：`切换宵禁`
- 查询宵禁：`查询宵禁`
- 切换同意入群：`切换同意入群`，该功能用于实现自动同意入群功能，用处不大，可以使用官方功能平替
- 警告未活跃用户：`警告未活跃用户 天数`

## 邀请树记录功能

> 该功能开启后会静默记录群成员的邀请关系（不含群主和管理员），当发现有违禁用户，可以使用该功能查询相关的其他成员，一锅端

- 开关命令：`itr`
- 查询邀请树：`查询邀请树`，查询指定用户的上下级邀请关系包含的所有用户
- 踢出邀请树：`踢出邀请树`，踢出指定用户的上下级邀请关系包含的所有用户
- 禁言邀请树：`禁言邀请树`，禁言指定用户的上下级邀请关系包含的所有用户

## 黑名单功能

- 开关命令：`bl`
- 拉黑：`拉黑 @用户或QQ号`，拉黑某用户，将拒绝该用户后续的所有入群请求，入群后自动踢出
- 解黑：`解黑 @用户或QQ号`，解黑某用户，将该用户从黑名单中移除
- 看黑：`看黑`，查看当前群的黑名单
- 清黑：`清黑`，清空当前群的黑名单
- 扫黑：`扫黑`，扫描当前群内黑名单用户和全服黑名单的并集并踢出

## 违禁词监控功能

- 开关命令：`gbw`
- 添加违禁词：`添加违禁词 违禁词 权重(0-100，默认10)`，添加违禁词，权重越高，代表包含该词汇的消息违规性质越大（100 为最高），该功能一般无需用户主动添加，开发者已维护了一个全局词库，覆盖所有群，如果你发现有某条违规消息没有被检测，请截图反馈到开发者
- 删除违禁词：`删除违禁词 违禁词`，删除违禁词
- 复制违禁词：`复制违禁词 来源群号 目标群号`，复制违禁词，将来源群的违禁词复制到目标群
- 添加白名单：`gbw添加白名单 @用户或QQ号`，添加白名单，白名单中的用户不会被违禁词检测到
- 删除白名单：`gbw添加白名单 @用户或QQ号`，删除白名单，将该用户从白名单中移除

## 入群验证功能

> 使用提示：该功能每有一个用户进群都会将其禁言并发配一个随机验证码，如果迎新阶段进群人数激增，可以关闭该功能

- 开关命令：`ghv`
- 扫描入群验证：`扫描入群验证`，扫描入群验证，将扫描当前群内未验证用户并踢出

## 群二维码检测功能

> 使用提示：该功能用于检测群内用户发出的短时长视频中是否包含二维码，如果检测到，将禁言该用户并撤回消息，并上报给系统管理员 **注意** **！！！该功能没有对图片的二维码检测功能，需要结合 QQ 群官方机器人“Q 群管家”使用，Q 群管家负责检测图片类二维码，卷卷会监控 Q 群管家的撤回行为，检测到有消息被 Q 群管家撤回后会自动禁言该用户**

- 开关命令：`gqd`

## 入群欢迎退群提醒功能

> 退群提醒功能暂时关闭

- 开关命令：`gw`
- 设置入群欢迎退群提醒信息：`gwset in 入群欢迎信息`，设置入群欢迎信息
- 设置入群欢迎退群提醒信息：`gwset out 退群提醒信息`，设置退群提醒信息

## FAQ 功能

> 该功能基于 TF-IDF、编辑距离与倒排索引的中文智能问答系统，支持自定义问答对的存储与高效检索，适用于 FAQ、知识库等场景

- 开关命令：`faq`
- 添加问答：`添加问答 问题 答案`，添加问答
- 删除问答：`删除问答 问题ID`，删除问答
- 获取问答：`获取问答 问题ID`，获取问答

## 关键词回复功能

> 该功能用于回复特定关键词，是 FAQ 系统的补充，不设置权限，任何人都可以添加关键词回复，但只有管理员可以删除关键词回复，当群内有用户发送关键词的时候，自动回复对应内容

- 开关命令：`kr`
- 添加关键词回复：`添加关键词 关键词 回复内容`，添加关键词回复
- 删除关键词回复：`删除关键词 关键词`，删除关键词回复
- 查看关键词回复：`查看关键词`，查看关键词回复
- 清空关键词回复：`清空关键词`，清空关键词回复
