---
title: 词云生成
---

# 词云生成

词云模块，支持生成群聊消息词云图片，并集成Dify AI功能进行聊天内容总结，帮助分析群聊热点话题和内容趋势。

## 命令

### 模块开关
- `wc` 开关词云模块

### 主要功能
- `生成词云` 生成词云图片，基于群聊历史消息
- `总结聊天` 总结聊天内容，使用AI分析群聊内容
- `设置Dify密钥` 设置Dify API密钥，用于AI功能

## 功能说明

### 词云生成
- 分析群聊历史消息内容
- 提取高频词汇和关键词
- 生成可视化词云图片
- 帮助了解群聊热点话题

### AI聊天总结
- 集成Dify AI平台
- 智能分析聊天内容
- 生成聊天内容摘要
- 提取关键信息和话题

### API配置
- 支持自定义Dify API密钥
- 密钥文件安全存储
- 支持更换和更新密钥

## 使用示例

```
# 开启词云功能
wc

# 生成词云图片
生成词云

# 设置Dify API密钥
设置Dify密钥 your_api_key_here

# 总结聊天内容
总结聊天
```

## 配置说明

### Dify API密钥设置
1. 首先需要在Dify平台获取API密钥
2. 使用命令设置密钥到机器人
3. 设置完成后即可使用AI总结功能

### 数据文件
- 词云数据存储在 `data/WordCloud/` 目录
- Dify API密钥存储在 `dify_api_key.txt` 文件中
- 系统会自动创建必要的目录结构

## 工作流程

### 词云生成流程
1. 收集群聊历史消息
2. 进行文本预处理和分词
3. 统计词频和关键词
4. 生成词云可视化图片
5. 发送图片到群聊

### AI总结流程
1. 收集指定时间段的聊天记录
2. 调用Dify API进行内容分析
3. 生成聊天内容总结
4. 返回总结结果

## 注意事项

- 词云生成需要足够的聊天历史数据
- AI总结功能需要先配置Dify API密钥
- 生成的词云图片可能需要一定处理时间
- 确保API密钥的安全性，避免泄露

## 示例图片

> 暂时空着 